<html><head><script src="../highcharts/adapters/standalone-framework.js"></script>
<script src="../highcharts/highstock.js"></script>
<script src="../highcharts/highcharts-more.js"></script>
<script src="../highcharts/highcharts-3d.js"></script>
<script src="../highcharts/modules/heatmap.js"></script>
<script src="../highcharts/modules/treemap.js"></script>
<script src="../highcharts/modules/drilldown.js"></script>
<script src="../highcharts/modules/data.js"></script>
<script src="../highcharts/modules/exporting.js"></script>
<script src="../highcharts/modules/funnel.js"></script>
<script src="../highcharts/modules/solid-gauge.js"></script>
<script src="../highcharts/modules/data.js"></script>

<link rel="import" href="configuration-reader.html">

<script>var VaadinCharts=VaadinCharts||{};VaadinCharts.ChartCommonBehavior={properties:{chart:{type:Object,readOnly:!0,notify:!0,value:function(){return{}}},timeline:{type:Boolean,value:!1,observer:"_timelineChanged"},_chartConf:{type:Object,value:function(){return{}}}},isInitialized:function(){return 0!==Object.keys(this.chart).length},_copyStyleProperties:["flex","-webkit-flex","-ms-flex"],_chartEventNames:{addSeries:"add-series",afterPrint:"after-print",beforePrint:"before-print",click:"chart-click",drilldown:"drilldown",drillup:"drillup",redraw:"redraw",selection:"selection"},_seriesEventNames:{afterAnimate:"series-after-animate",checkboxClick:"series-checkbox-click",click:"series-click",hide:"series-hide",legendItemClick:"series-legend-item-click",mouseOut:"series-mouse-out",mouseOver:"series-mouse-over",show:"series-show"},_pointEventNames:{click:"point-click",mouseOut:"point-mouse-out",mouseOver:"point-mouse-over",remove:"point-remove",select:"point-select",unselect:"point-unselect",update:"point-update"},reloadConfiguration:function(){this._chartConf={},this._initConfiguration(),this.chart.destroy(),this._setChart({}),this._reloadSeries(),this._initChart()},_reloadSeries:function(){for(var t=Polymer.dom(this).querySelectorAll("data-series"),e=0;e<t.length;e++)t[e]._reloadConfiguration()},_addSeries:function(t){return void 0===this._chartConf.series&&(this._chartConf.series=[]),this._chartConf.series.push(t),this._chartConf.series.length-1},_addDrilldownSeries:function(t){return this._chartConf.drilldown||(this._chartConf.drilldown={}),this._chartConf.drilldown.series||(this._chartConf.drilldown.series=[]),this._chartConf.drilldown.series.push(t),this._chartConf.drilldown.series.length-1},created:function(){this._chartConf={}},attached:function(){this.isInitialized()||(this._initLocalDom(),this._initConfiguration(),Polymer.dom(this).querySelectorAll("data-series").forEach(function(t){t._initialize&&t._initialize()}),this._loadTheme&&this._loadTheme(),this._initChart())},_initChart:function(){this.timeline?this._setChart(new Highcharts.StockChart(this._chartConf)):this._setChart(new Highcharts.Chart(this._chartConf)),this.fire("chart-loaded")},ready:function(){},_initLocalDom:function(){var t=document.createElement("div");t.id="chartContainer",this._updateStyles(t),Polymer.dom(this.root).appendChild(t);var e=document.createElement("vaadin-license-checker");e.productName="vaadin-charts",e.productVersion="3",e.productCaption="Vaadin Charts",Polymer.dom(this.root).appendChild(e),Polymer.dom.flush()},_updateStyles:function(t){var e=!1;if(this._copyStyleProperties.forEach(function(t){getComputedStyle(this)[t]&&"0 1 auto"!=getComputedStyle(this)[t]&&(e=!0)},this),e){t.setAttribute("style","flex: 1; -webkit-flex: 1; -ms-flex: 1; ");var i="";this.hasAttribute("style")&&(i=this.getAttribute("style"),";"!==i.charAt(i.length-1)&&(i+=";")),i+="display: -ms-flexbox; display: -webkit-flex; display: flex;",this.setAttribute("style",i)}else t.setAttribute("style","height:100%; width:100%;")},_initConfiguration:function(){this._cleanNode(Polymer.dom(this)),this._loadConfiguration(this._chartConf,Polymer.dom(this)),this._chartConf.chart||(this._chartConf.chart={}),this._initEventListeners(),this._chartConf.chart.type=this._getType(),this._chartConf.chart.renderTo=Polymer.dom(this.root).querySelector("#chartContainer")},_initEventListeners:function(){this._chartConf.chart.events={};for(var t in this._chartEventNames)this._chartEventNames.hasOwnProperty(t)&&this._addChartEvent(t,this._chartEventNames[t]);this._ensureObjectStructure(this._chartConf,"plotOptions.series"),this._chartConf.plotOptions.series.events={};for(var t in this._seriesEventNames)this._seriesEventNames.hasOwnProperty(t)&&this._addSeriesEvent(t,this._seriesEventNames[t]);this._ensureObjectStructure(this._chartConf,"plotOptions.series.point"),this._chartConf.plotOptions.series.point.events={};for(var t in this._pointEventNames)this._pointEventNames.hasOwnProperty(t)&&this._addPointEvent(t,this._pointEventNames[t])},_addChartEvent:function(t,e){var i=this;this._chartConf.chart.events[t]=function(t){i.fire(e,{originalEvent:t,chart:this})}},_addSeriesEvent:function(t,e){var i=this;this._chartConf.plotOptions.series.events[t]=function(t){i.fire(e,{originalEvent:t,series:this})}},_addPointEvent:function(t,e){var i=this;this._chartConf.plotOptions.series.point.events[t]=function(t){i.fire(e,{originalEvent:t,point:this})}},_timelineChanged:function(t,e){this.isInitialized()&&this.reloadConfiguration()}},VaadinCharts.ChartBehavior=[VaadinCharts.ConfigurationReaderBehavior,VaadinCharts.ChartCommonBehavior];</script></head><body></body></html>
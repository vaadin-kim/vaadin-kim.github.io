<!DOCTYPE html><html><head>
  <meta charset="utf-8">
  <script src="../../web-component-tester/browser.js"></script>
  <script src="../../iron-test-helpers/mock-interactions.js"></script>
  <link rel="import" href="../vaadin-date-picker.html">
  <script src="common.js"></script>
  <script>HTMLImports.whenReady(function(){Polymer({is:"vaadin-date-picker-wrapper"})});</script>
</head>

<body>

  <test-fixture id="datepicker">
    <template>
      <vaadin-date-picker style="position: fixed"></vaadin-date-picker>
    </template>
  </test-fixture>

  <test-fixture id="datepicker-wrapped">
    <template>
      <vaadin-date-picker-wrapper></vaadin-date-picker-wrapper>
    </template>
  </test-fixture>

  <dom-module id="vaadin-date-picker-wrapper">
    <template>
      <vaadin-date-picker id="datepicker" label="foo"></vaadin-date-picker>
    </template>
  </dom-module>

  <script>describe("Dropdown",function(){var e,t;beforeEach(function(){e=fixture("datepicker"),t=e.$.dropdown}),afterEach(function(t){e.async(t,1)}),it("should not close on calendar icon down",function(t){e.addEventListener("iron-overlay-opened",function(){MockInteractions.down(e.$.calendar),expect(e.$.dropdown.opened).to.be["true"],t()}),e.open()}),""===document.createElement("div").style.webkitOverflowScrolling&&it("should handle webkit-overflow-scrolling",function(t){document.body.style.webkitOverflowScrolling="touch",e.addEventListener("iron-overlay-opened",function(){expect(window.getComputedStyle(document.body).webkitOverflowScrolling).to.equal("auto"),e.close()}),e.addEventListener("iron-overlay-closed",function(){expect(window.getComputedStyle(document.body).webkitOverflowScrolling).to.equal("touch"),t()}),e.open()}),describe("Sizing",function(){beforeEach(function(){var t=document.createElement("meta");t.setAttribute("name","viewport"),t.setAttribute("content","width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0"),document.getElementsByTagName("head")[0].appendChild(t),e._fullscreenMediaQuery="max-width: 520px"}),it("should select fullscreen/desktop mode",function(n){e.addEventListener("iron-overlay-opened",function(){var o=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=520>o;expect(isFullscreen(e)).to.equal(i),expect(t.style.marginTop).to.equal((i?0:e.clientHeight+2)+"px"),expect(t.positionTarget).to.equal(i?document.documentElement:e),n()}),Polymer.Base.async(function(){e.open()})})}),describe("Alignment",function(){beforeEach(function(){document.body.style.padding="500px"}),it("should align top/left",function(n){e.style.left="0",e.style.top="0",e.addEventListener("iron-overlay-opened",function(){expect(t.verticalAlign).to.equal("top"),expect(t.horizontalAlign).to.equal("left"),n()}),e.open()}),it("should align borrom/right",function(t){e.style.right="0",e.style.bottom="0",e.addEventListener("iron-overlay-opened",function(){expect(e.$.dropdown.verticalAlign).to.equal("bottom"),expect(e.$.dropdown.horizontalAlign).to.equal("right"),t()}),e.open()})})}),describe("Dropdown-wrapped",function(){var e;beforeEach(function(){e=fixture("datepicker-wrapped").$.datepicker}),afterEach(function(t){e.async(t,1)}),it("should not close on calendar icon down",function(t){e.addEventListener("iron-overlay-opened",function(){MockInteractions.down(e.$.calendar),expect(e.$.dropdown.opened).to.be["true"],t()}),e.open()})});</script>




</body></html>
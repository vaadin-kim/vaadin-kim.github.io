var PortfolioFIFO=function(){this.fifo=[]};PortfolioFIFO.prototype={push:function(o,i,t){o in this.fifo||(this.fifo[o]=[]),this.fifo[o].push({amount:parseInt(i),price:parseFloat(t).toFixed(2),close:void 0})},pop:function(o,i){if(o in this.fifo)for(i=parseInt(i);i>0;){if(0==this.fifo[o].length)return;var t=this.fifo[o][0].amount;i>=t?(i-=t,this.fifo[o].shift()):(t-=i,i=0,this.fifo[o][0].amount=t)}},cost:function(){var o=0;for(var i in this.fifo)o+=this.costForStock(i);return o},costForStock:function(o){var i=this.fifo[o];if(void 0==i)return 0;for(var t=0,f=0;f<i.length;f++)t+=i[f].amount*i[f].price;return t},amountOfStocks:function(o){var i=this.fifo[o];if(void 0==i)return 0;for(var t=0,f=0;f<i.length;f++)t+=i[f].amount;return t},value:function(){var o=0;for(var i in this.fifo)o+=this.valueForStock(i);return o},valueForStock:function(o){var i=this.fifo[o];if(void 0==i)return 0;var t=0;if(void 0!=i.close)for(var f=0;f<i.length;f++)t+=i[f].amount*i.close;return t},setClosePrice:function(o,i){o in this.fifo&&(this.fifo[o].close=i)},clone:function(){return JSON.parse(JSON.stringify(this))},getStockAndClose:function(){var o=[];for(var i in this.fifo)o[i]=this.fifo[i].close;return o}};